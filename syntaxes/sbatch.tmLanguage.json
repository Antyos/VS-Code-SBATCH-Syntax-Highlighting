{
  "scopeName": "source.sbatch",
  "patterns": [
    {
      "match": "^\\s*(#SBATCH)(\\s+(?:(--[a-zA-Z-_]+)?\\s*(=)?\\s*(?:(\\d+(?:\\.\\d+)?)|(\".*?\")|.+?)*)|.*)?",
      "captures": {
        "1": {
          "name": "keyword.control.sbatch"
        },
        "2": {
          "name": "meta.argument.sbatch"
        },
        "3": {
          "name": "variable.parameter.sbatch",
          "comment": "\\b--[a-zA-Z-]+\\b"
        },
        "4": {
          "name": "keyword.operator.assignment.sbatch",
          "comment": "\\b=\\b"
        },
        "5": {
          "name": "constant.numeric.sbatch",
          "comment": "\\b\\d+\\b"
        },
        "6": {
          "name": "string.quoted.sbatch",
          "comment": "\".*?\""
        },
        "7": {
          "name": "variable.other.sbatch",
          "comment": "\\w+"
        }
      }
    },
    {
      "name": "keyword.line.sbatch-param",  
      "match": "^##SBATCH\\b.*"
    },
    {
      "include": "source.shell"  
    }
  ]
}
